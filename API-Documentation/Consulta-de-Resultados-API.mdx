---
title: "API de Consulta de Resultados"
description: "Consulta y filtra resultados de eventos deportivos y competencias."
---
# ¿Qué hace?
<Info>
Este endpoint permite **consultar resultados de participantes** en eventos deportivos con múltiples filtros.  
Soporta búsqueda por nombre, dorsal, categoría, posición y rangos de tiempo.
</Info>
---
## Endpoint
```http
GET /api/v1/event-results
```
---
## Headers requeridos
```json
{
  "Authorization": "Bearer <token>",
  "Content-Type": "application/json"
}
```
---
## Parámetros de Query
### Parámetros obligatorios
- **organization_id** (UUID) – ID de la organización  

### Parámetros opcionales de filtrado
- **event_series_id** (UUID) – ID de la serie del evento  
- **event_id** (UUID) – ID del evento específico  
- **participant_name** (string) – Nombre del participante (búsqueda parcial)  
- **participant_bib_number** (string) – Número de dorsal exacto  
- **category_name** (string) – Nombre de la categoría  
- **status** (string) – Estado: official, unofficial, disqualified, dnf, dns  
- **position_min** (integer) – Posición mínima (inclusive)  
- **position_max** (integer) – Posición máxima (inclusive)  
- **category_position_min** (integer) – Posición mínima en categoría  
- **category_position_max** (integer) – Posición máxima en categoría  

### Parámetros de paginación
- **page** (integer) – Número de página (default: 1)  
- **limit** (integer) – Resultados por página (default: 50, max: 100)  

### Parámetros de ordenamiento
- **sort_by** (string) – Campo para ordenar: position, finish_time, participant_name, created_at  
- **sort_order** (string) – Orden: asc, desc (default: asc)  

---
## Ejemplos de uso
### Búsqueda básica por evento
```http
GET /api/v1/event-results?organization_id=550ea8de-f522-4b39-a2c4-757fc2501ef1&event_series_id=6a4e8de4-abe8-48b2-b486-48de9ba9aac2
```

### Búsqueda por nombre y categoría
```http
GET /api/v1/event-results?organization_id=550ea8de-f522-4b39-a2c4-757fc2501ef1&participant_name=Juan&category_name=M30-34
```

### Búsqueda por rango de posiciones
```http
GET /api/v1/event-results?organization_id=550ea8de-f522-4b39-a2c4-757fc2501ef1&position_min=1&position_max=10&sort_by=position&sort_order=asc
```

### Búsqueda por dorsal exacto
```http
GET /api/v1/event-results?organization_id=550ea8de-f522-4b39-a2c4-757fc2501ef1&participant_bib_number=1234
```

### Paginación
```http
GET /api/v1/event-results?organization_id=550ea8de-f522-4b39-a2c4-757fc2501ef1&page=2&limit=25
```

---
## Responses
### ✅ Success controlados
#### 200 · OK
Resultados encontrados correctamente.
```json
{
  "results": [
    {
      "id": "7a8b9c0d-1e2f-3a4b-5c6d-7e8f9a0b1c2d",
      "event_series_id": "6a4e8de4-abe8-48b2-b486-48de9ba9aac2",
      "event_id": "b5c7f2e1-9d8a-4c3e-8f9a-2b4c6d8e0f1a",
      "organization_id": "550ea8de-f522-4b39-a2c4-757fc2501ef1",
      "participant_name": "Juan Pérez",
      "participant_email": "juan.perez@email.com",
      "participant_bib_number": "1234",
      "position": 1,
      "category_position": 1,
      "category_name": "M30-34",
      "finish_time": "01:25:30.500",
      "chip_time": "01:25:28.200",
      "gun_time": "01:25:35.100",
      "split_times": [
        {"name": "5K", "time": "00:25:30"},
        {"name": "10K", "time": "00:52:15"},
        {"name": "15K", "time": "01:18:45"}
      ],
      "additional_data": {
        "pace": "5:30/km",
        "speed": "10.9 km/h",
        "age_group": "M30-34"
      },
      "status": "official",
      "created_at": "2025-01-09T12:00:00Z",
      "updated_at": "2025-01-09T12:00:00Z"
    }
  ],
  "pagination": {
    "current_page": 1,
    "total_pages": 5,
    "total_results": 250,
    "has_next": true,
    "has_prev": false
  },
  "filters_applied": {
    "organization_id": "550ea8de-f522-4b39-a2c4-757fc2501ef1",
    "event_series_id": "6a4e8de4-abe8-48b2-b486-48de9ba9aac2",
    "status": "official"
  }
}
```
---
#### 206 · Partial Content
Resultados parciales (solo resultados públicos sin autenticación).
```json
{
  "results": [
    {
      "id": "7a8b9c0d-1e2f-3a4b-5c6d-7e8f9a0b1c2d",
      "event_series_id": "6a4e8de4-abe8-48b2-b486-48de9ba9aac2",
      "participant_name": "Juan Pérez",
      "participant_bib_number": "1234",
      "position": 1,
      "category_position": 1,
      "category_name": "M30-34",
      "finish_time": "01:25:30.500",
      "status": "official"
    }
  ],
  "pagination": {
    "current_page": 1,
    "total_pages": 5,
    "total_results": 250,
    "has_next": true,
    "has_prev": false
  },
  "note": "Limited data shown - authenticate for full details"
}
```
---
### ❌ Errores controlados
#### 400 · Bad Request
Parámetros inválidos o mal formateados.
```json
{
  "status": "error",
  "code": 400,
  "message": "Invalid parameter: position_min must be greater than or equal to 1"
}
```
---
#### 401 · Unauthorized
Token de autenticación inválido o ausente.
```json
{
  "status": "error",
  "code": 401,
  "message": "Invalid or missing authentication token"
}
```
---
#### 403 · Forbidden
Usuario no tiene permisos para la organización.
```json
{
  "status": "error",
  "code": 403,
  "message": "Access denied: User is not a member of this organization"
}
```
---
#### 404 · Not Found
No se encontraron resultados con los filtros especificados.
```json
{
  "status": "error",
  "code": 404,
  "message": "No results found for the specified filters"
}
```
---
#### 422 · Unprocessable Entity
Parámetros de búsqueda inválidos.
```json
{
  "status": "error",
  "code": 422,
  "message": "Invalid sort_by parameter: must be one of position, finish_time, participant_name, created_at"
}
```
---
#### 500 · Internal Server Error
Error inesperado en el servidor.
```json
{
  "status": "error",
  "code": 500,
  "message": "Internal server error"
}
```
---
## Cómo usarlo
<Steps>
  <Step title="1 · Define filtros" icon="filter" iconType="solid">
    Determina qué criterios usarás para buscar resultados.
  </Step>
  <Step title="2 · Construye la URL" icon="link" iconType="solid">
    Agrega los parámetros de query a la URL base.
  </Step>
  <Step title="3 · Realiza la consulta" icon="search" iconType="solid">
    Envía el request <strong>GET</strong> con autenticación si es necesario.
  </Step>
  <Step title="4 · Procesa resultados" icon="database" iconType="solid">
    Itera sobre los resultados y maneja la paginación.
  </Step>
</Steps>
---
<Tip>
Para búsquedas públicas (sin autenticación), solo se devuelven resultados con <strong>status = "official"</strong> y datos limitados por privacidad.
</Tip>
---
<Warning>
El parámetro <strong>participant_bib_number</strong> busca coincidencias exactas, mientras que <strong>participant_name</strong> usa búsqueda parcial (contiene).
</Warning>
